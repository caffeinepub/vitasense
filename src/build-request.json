{
  "kind": "build_request",
  "title": "Build Digital Detox mobile app with focus tracking, challenges, and gamification",
  "projectName": "Digital Detox",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Replace the current health-focused backend with a user management system that stores: uid, name, email, dailyLimit (number), currentScreenTime (number), streak (number), totalPoints (number), level (text), challenges (array), focusSessions (array), and createdAt (timestamp)",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-20"
        ],
        "quotes": [
          "Users Collection: uid, name, email, dailyLimit, currentScreenTime, streak, totalPoints, level, challenges[], focusSessions[], createdAt"
        ]
      },
      "acceptanceCriteria": [
        "Backend stores all user profile fields in stable storage",
        "CRUD operations available for user data",
        "Authentication required for profile access"
      ]
    },
    {
      "id": "REQ-2",
      "text": "Create an onboarding flow with a welcome screen that collects: average daily screen time, biggest distraction apps (text input), main goal (dropdown with options: Reduce addiction, Improve focus, Sleep better), daily screen time limit, and preferred focus duration",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-20"
        ],
        "quotes": [
          "Onboarding (First Launch) Welcome screen with calming animation Ask: Average daily screen time, Biggest distraction apps, Main goal (Reduce addiction / Improve focus / Sleep better), Let user set: Daily screen time limit, Preferred focus duration"
        ]
      },
      "acceptanceCriteria": [
        "Multi-step onboarding form with progress indicator",
        "All fields validated before submission",
        "Data saved to backend on completion",
        "Onboarding only shown once per user"
      ]
    },
    {
      "id": "REQ-3",
      "text": "Build a home dashboard showing: today's screen time, remaining allowed time, progress bar visualization, current streak count, dynamic motivational quote that changes daily, 'Start Focus Session' button, and 'Join Challenge' button",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-20"
        ],
        "quotes": [
          "Home Dashboard Show: Today's screen time, Remaining allowed time, Progress bar, Current streak, Motivational quote (dynamic daily), Button: 'Start Focus Session', Button: 'Join Challenge'"
        ]
      },
      "acceptanceCriteria": [
        "Dashboard displays real-time screen time data",
        "Progress bar accurately reflects time used vs. limit",
        "Motivational quote updates daily",
        "Buttons navigate to respective features"
      ]
    },
    {
      "id": "REQ-4",
      "text": "Implement a Focus Mode feature with timer options (25 minutes, 45 minutes, Custom), countdown animation, warning popup if user attempts to exit early, and on completion: award points, show success animation, and increase streak counter",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-20"
        ],
        "quotes": [
          "Focus Mode Timer options (25 / 45 / Custom), Countdown animation, Block selected distracting apps during session, If user exits â†’ warning popup, On completion: Award points, Show success animation, Increase streak"
        ]
      },
      "acceptanceCriteria": [
        "Timer displays countdown with visual animation",
        "Custom timer accepts user input in minutes",
        "Exit warning appears when attempting early exit",
        "Completion triggers point award and streak increment",
        "Success animation plays on session completion"
      ]
    },
    {
      "id": "REQ-5",
      "text": "Create a Digital Detox Challenges system with pre-built challenges: '7-Day Detox', 'No Social Media Sunday', '2 Hours No Phone Before Sleep', plus the ability to create custom challenges. Track completion percentage, daily progress, and award bonus points on completion",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-20"
        ],
        "quotes": [
          "Digital Detox Challenges Pre-built challenges: 7-Day Detox, No Social Media Sunday, 2 Hours No Phone Before Sleep, Custom challenge option, Track: Completion %, Daily progress, Reward bonus points"
        ]
      },
      "acceptanceCriteria": [
        "Pre-built challenges available in a list",
        "Users can join and leave challenges",
        "Daily progress tracked and displayed",
        "Completion percentage calculated accurately",
        "Bonus points awarded on challenge completion",
        "Custom challenge creation with name, duration, and rules"
      ]
    },
    {
      "id": "REQ-6",
      "text": "Build a Statistics & Analytics page with daily, weekly, and monthly charts showing: screen time comparison, focus hours tracked, streak history, and improvement percentage over time",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-20"
        ],
        "quotes": [
          "Statistics & Analytics Daily / Weekly / Monthly charts, Screen time comparison, Focus hours tracked, Streak history, Improvement percentage"
        ]
      },
      "acceptanceCriteria": [
        "Toggle between daily, weekly, and monthly views",
        "Charts display screen time trends",
        "Focus hours aggregated and visualized",
        "Streak history shown with dates",
        "Improvement percentage calculated from baseline"
      ]
    },
    {
      "id": "REQ-7",
      "text": "Implement a rewards and gamification system with a points mechanism, level progression (Beginner, Consistent, Focused Mind, Digital Master), unlockable badges, and a visual progress tracker showing current level and points to next level",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-20"
        ],
        "quotes": [
          "Rewards & Gamification Points system, Level system: Beginner, Consistent, Focused Mind, Digital Master, Unlock badges, Visual progress tracker"
        ]
      },
      "acceptanceCriteria": [
        "Points awarded for completing focus sessions and challenges",
        "Level thresholds defined for each tier",
        "Badges unlock based on achievements",
        "Progress tracker shows current level and next milestone",
        "Level-up animation displays on progression"
      ]
    },
    {
      "id": "REQ-8",
      "text": "Create an AI Smart Assistant feature that analyzes user usage patterns and provides personalized suggestions including: best focus time recommendations, detox tips, app usage warnings, and a daily personalized notification",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-20"
        ],
        "quotes": [
          "AI Smart Assistant Analyze user usage patterns, Suggest: Best focus time, Detox tips, App usage warnings, Daily personalized notification"
        ]
      },
      "acceptanceCriteria": [
        "AI suggestions based on historical usage data",
        "Recommendations update daily",
        "Tips displayed in a dedicated assistant section",
        "Notifications sent at optimal times based on user patterns"
      ]
    },
    {
      "id": "REQ-9",
      "text": "Build a reminder system that alerts users when screen time limit is approaching, sends a gentle 'Time to disconnect ðŸŒ™' notification at night, and allows custom reminder scheduling",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-20"
        ],
        "quotes": [
          "Reminder System Alert when screen time limit is near, Gentle 'Time to disconnect ðŸŒ™' at night, Custom reminder scheduling"
        ]
      },
      "acceptanceCriteria": [
        "Notification triggers at 80% of daily limit",
        "Nighttime reminder sent at user-configured time",
        "Custom reminders can be added with time and message",
        "Reminder preferences saved to user profile"
      ]
    },
    {
      "id": "REQ-10",
      "text": "Create a Settings page with options to: edit screen time limit, change theme (with Dark Mode as default), control notification preferences, reset all data, and logout",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-20"
        ],
        "quotes": [
          "Settings Edit screen limit, Change theme, Notification control, Data reset, Account logout"
        ]
      },
      "acceptanceCriteria": [
        "Screen limit editable with validation",
        "Theme toggle switches between light and dark modes",
        "Notification settings persist across sessions",
        "Data reset confirms before clearing all user data",
        "Logout clears session and returns to landing page"
      ]
    },
    {
      "id": "REQ-11",
      "text": "Apply a cohesive visual design with a calm blue and soft purple color palette as the default dark mode theme, minimalistic layout using soft rounded cards, smooth transitions and minimal animations throughout the app, modern typography, and clean bottom navigation",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-20"
        ],
        "quotes": [
          "Dark Mode default (calm blue + soft purple theme), Smooth minimal animations",
          "Minimalistic layout, Soft rounded cards, Smooth transitions, Calm color palette, Modern typography, Clean bottom navigation"
        ]
      },
      "acceptanceCriteria": [
        "Dark mode is the default theme",
        "Blue and purple accent colors used consistently",
        "All cards have rounded corners",
        "Transitions animate smoothly between states",
        "Typography is clear and modern",
        "Bottom navigation provides quick access to main sections"
      ]
    }
  ],
  "constraints": [
    "The platform does not support React Native, Flutter, Firebase Authentication, Firebase Firestore, or device permission-based app usage tracking",
    "Backend must use Motoko in a single-actor architecture",
    "Frontend must use React with TypeScript, Tailwind CSS, and React Query",
    "Authentication must use Internet Identity (not Firebase or Google login)",
    "All data persistence must use Motoko stable storage (not external databases)",
    "Real-time app blocking and native mobile notifications are not supported"
  ],
  "nonGoals": [
    "Native mobile app development for iOS or Android",
    "Integration with device-level app usage tracking APIs",
    "Firebase or third-party authentication services",
    "External database connections",
    "Real-time push notifications",
    "Play Store publishing and app store optimization",
    "Native app blocking functionality"
  ],
  "imageRequirements": {
    "required": [
      "Calming welcome illustration with abstract waves and gradients in calm blue and soft purple tones (welcome-hero.dim_800x600.png)",
      "Success celebration animation frame showing sparkles and achievement badge in purple and blue gradient (success-celebration.dim_400x400.png)",
      "Digital detox themed app icon with minimal phone symbol and zen elements in blue and purple palette (app-icon.dim_512x512.png)"
    ],
    "edits": []
  }
}